(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[10],{2015:function(e,t,s){var n={"./payments/firebase-1.md":9039,"./payments/firebase-3.md":1157,"./payments/firebase/1-1.md":2206,"./payments/firebase/1-2.md":7567,"./payments/firebase/1-3.md":7634,"./payments/firebase/1-4.md":7998,"./payments/firebase/1-5.md":4935,"./payments/firebase/1-6.md":8868,"./payments/nextjs-1.md":1537,"./payments/nextjs-2.md":1148,"./payments/nextjs-4.md":6416,"./payments/nextjs-5.md":2938,"./payments/nextjs/1-1.md":542,"./payments/stripe-1.md":95,"./payments/stripe-2.md":4481,"./payments/stripe-5.md":9099,"./payments/stripe/1-1.md":1939,"./payments/stripe/1-2.md":1195,"./payments/stripe/1-3.md":4659};function i(e){var t=r(e);return s(t)}function r(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id=2015},5733:function(e,t,s){"use strict";var n=s(5893),i=s(3801);t.Z=function(e){var t=e.href,s=e.children,r=null===t||void 0===t?void 0:t.match("^http");return(0,n.jsxs)("a",{href:t,rel:"noreferrer",className:"text-indigo-600",target:r?"_blank":"_self",children:[(0,n.jsx)("span",{children:s}),r&&(0,n.jsx)(i.h0n,{className:"inline-block w-4 h-4 text-indigo-400 align-top ml-0.5"})]})}},4010:function(e,t,s){"use strict";s.d(t,{Z:function(){return U}});var n=s(5893),i=s(3801),r=s(3153),o=s(192),a=s(1984),c=s(8412),l=s(9008),d=s(7294),p=["stripe","nextjs","firebase"],m={payments:[{title:"\u74b0\u5883\u69cb\u7bc9",tool:{stripe:[{title:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210",videoURL:""},{title:"\u5236\u9650\u4ed8\u304dAPI\u30ad\u30fc\u3092\u4f5c\u6210",videoURL:""},{title:"Webhook\u3092\u4f5c\u6210",videoURL:""}],nextjs:[{title:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210",videoURL:""}],firebase:[{title:"Firebase\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210",videoURL:""},{title:"Cloud Firestore \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210",videoURL:""},{title:"Firebase Authentication \u306e\u6709\u52b9\u5316",videoURL:""},{title:"Run Payments with Stripe \u62e1\u5f35\u6a5f\u80fd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",videoURL:""},{title:"Cloud Firestore \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30eb\u30fc\u30eb\u3092\u8a2d\u5b9a",videoURL:""},{title:"Stripe webhook secret \u3092\u4f7f\u3063\u3066\u62e1\u5f35\u6a5f\u80fd\u3092\u518d\u69cb\u6210",videoURL:""}]}},{title:"\u5546\u54c1\u306e\u4f5c\u6210\u3068\u8868\u793a",tool:{stripe:[{title:"\u5546\u54c1\u3068\u4fa1\u683c\u3092\u4f5c\u6210",videoURL:""},{title:"\u7a0e\u7387\u3092\u4f5c\u6210",videoURL:""},{title:"Tax\u306b\u3088\u308b\u7a0e\u7387\u8a2d\u5b9a\u306e\u81ea\u52d5\u5316\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09",videoURL:""}],nextjs:[{title:"\u5546\u54c1\u4e00\u89a7\u306e\u8868\u793a",videoURL:""}]}},{title:"\u30d5\u30eb\u30d5\u30a3\u30eb\u30e1\u30f3\u30c8\u306e\u5b9f\u88c5",tool:{firebase:[{title:"Stripe CLI \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb",videoURL:""},{title:"\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\uff08HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u95a2\u6570\u306e\u4f5c\u6210\uff09",videoURL:""},{title:"\u30d5\u30eb\u30d5\u30a3\u30eb\u30e1\u30f3\u30c8\u306e\u5b9f\u88c5",videoURL:""}]}},{title:"\u5546\u54c1\u306e\u8cfc\u5165",tool:{stripe:[{title:"\u30ab\u30b9\u30bf\u30de\u30fc\u30dd\u30fc\u30bf\u30eb\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba",videoURL:""}],nextjs:[{title:"\u30ab\u30b9\u30bf\u30de\u30fc\u30dd\u30fc\u30bf\u30eb\u3092\u958b\u304f",videoURL:""}]}}],billing:[],connect:[]},u=s(5307),f=function(){var e;return(null===(e=localStorage.getItem("complete"))||void 0===e?void 0:e.split(","))||[]},h=s(5131),b=s(9670),x=s(5690),g=s(4855),y=s(347),v=s(6121),j=s(3018),w=s(4283),N=s(1356),L=s(5733);function S(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function k(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),n.forEach((function(t){S(e,t,s[t])}))}return e}function T(e,t){if(null==e)return{};var s,n,i=function(e,t){if(null==e)return{};var s,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var O=function(e){var t=e.data;return(0,n.jsx)(v.D,{remarkPlugins:[N.Z,y.Z],className:"prose prose-sm prose-pre:p-0",transformImageUri:function(e){return"/stripe-doc"+e},components:{a:function(e){var t=e.href,s=e.children;return(0,n.jsx)(L.Z,{href:t,children:s})},pre:function(e){var t=e.children;return(0,n.jsx)("pre",{className:"first:mt-0 last:mb-0 overflow-hidden shadow",children:t})},img:function(e){var t=e.src;return(0,n.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:(0,n.jsx)("img",{src:t,className:"rounded-md shadow overflow-hidden block",alt:""})})},code:function(e){e.node;var t,s=e.inline,r=e.className,o=e.children,a=T(e,["node","inline","className","children"]),c=/language-(\w+)/.exec(r||""),l=null===(t=null===r||void 0===r?void 0:r.split(":"))||void 0===t?void 0:t[1];return!s&&c?(0,n.jsxs)("div",{children:[l&&(0,n.jsxs)("div",{className:"bg-[#1f192c] border-b flex items-center justify-between border-black text-sm py-1 px-2 text-white",children:[(0,n.jsx)("span",{className:"opacity-60",children:l}),(0,n.jsx)(g.CopyToClipboard,{onCopy:function(){return x.ZP.success("\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f",{position:"bottom-center"})},text:String(o),children:(0,n.jsx)("button",{children:(0,n.jsx)(i.Kmg,{className:"w-4 h-4 text-gray-500"})})})]}),(0,n.jsx)(j.Z,k({style:w.zQ,language:c[1],PreTag:"div",customStyle:{margin:0}},a,{children:String(o).replace(/\n$/,"")}))]}):(0,n.jsx)("code",k({},a,{children:o}))}},children:t})},P=function(e){var t=e.tool,i=e.type,r=e.step,o=e.id;console.log("../docs/".concat(i,"/").concat(t,"/").concat(r+1,"-").concat(o+1,".md"));try{var a,c=null===(a=s(2015)("./".concat(i,"/").concat(t,"/").concat(r+1,"-").concat(o+1,".md")))||void 0===a?void 0:a.default;return(0,n.jsx)("div",{children:(0,n.jsx)(O,{data:c})})}catch(l){return null}};function R(e){var t=e.isOpen,s=e.onClose,o=e.doc,a=e.onComplete,c=(0,d.useRef)(null),l=function(e,t){return"https://github.com/flock-team/stripe-doc/".concat(t,"/main/docs/").concat(e.type,"/").concat(e.tool,"/").concat(e.step+1,"-").concat(e.id+1,".md")};return(0,n.jsx)(h.u.Root,{show:t,as:d.Fragment,children:(0,n.jsx)(b.V,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",initialFocus:c,onClose:s,children:(0,n.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,n.jsx)(h.u.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)(b.V.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,n.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,n.jsx)(h.u.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:o&&(0,n.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[(0,n.jsxs)("div",{children:[o.videoURL&&(0,n.jsx)("a",{href:o.videoURL,target:"_blank",className:"aspect-video bg-slate-800 flex items-center justify-center rounded-lg mb-6 shadow-lg hover:shadow-xl transition-shadow",rel:"noreferrer",children:(0,n.jsx)(r.o1U,{className:"w-20 h-20 text-gray-300 opacity-40"})}),(0,n.jsxs)("div",{className:"mt-3 sm:mt-5",children:[(0,n.jsx)(b.V.Title,{as:"h3",className:"text-lg text-center leading-6 font-medium text-gray-900",children:o.title}),(0,n.jsx)("div",{className:"mt-6",children:o&&(0,n.jsx)(P,{tool:o.tool,type:o.type,step:o.step,id:o.id})})]})]}),(0,n.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[(0,n.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm",onClick:function(){if(o){var e=function(e){var t=f();t.push("".concat(e.type,"-").concat(e.tool,"-").concat(e.step,"-").concat(e.id));var s=Array.from(new Set(t));return localStorage.setItem("complete",s.join(",")),s}(o);x.ZP.success("\u5b8c\u4e86\u3057\u307e\u3057\u305f",{position:"bottom-center"}),a(e)}},ref:c,children:"\u5b8c\u4e86"}),(0,n.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:s,children:"\u9589\u3058\u308b"})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"items-center space-x-4 justify-end flex mt-4 text-gray-400 text-sm",children:[(0,n.jsxs)("a",{href:encodeURI("https://github.com/flock-team/stripe-doc/issues/new?body=## \u8a72\u5f53\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n".concat(l(o,"blob"),"\n\n## \u5831\u544a\u5185\u5bb9\n&title=\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5831\u544a: ").concat(o.type,"-").concat(o.tool,"-").concat(o.step+1,"-").concat(o.id+1)).replace(/#/g,"%23"),target:"_blank",className:"flex items-center space-x-2 hover:text-gray-700",rel:"noreferrer",children:[(0,n.jsx)(i.U65,{className:"w-4 h-4 inline"}),(0,n.jsx)("span",{children:"\u5831\u544a"})]}),(0,n.jsxs)("a",{href:l(o,"edit"),target:"_blank",className:"flex items-center space-x-2 hover:text-gray-700",rel:"noreferrer",children:[(0,n.jsx)(i.vdY,{className:"w-4 h-4 inline"}),(0,n.jsx)("span",{children:"\u7de8\u96c6"})]})]})})]})})]})})})}var C=function(e){var t=e.title,s=e.TabIcon;return(0,n.jsxs)("div",{className:"col-span-2 px-4 justify-center flex items-center space-x-2 text-center",children:[(0,n.jsx)(s,{size:24,className:"text-gray-500"}),(0,n.jsx)("span",{className:"block text-gray-600",children:t})]})},U=function(e){var t=e.title,s=e.description,h=e.scenes,b=e.type,x=e.videoURL,g=(0,d.useState)(null),y=g[0],v=g[1],j=(0,d.useState)(!1),w=j[0],N=j[1],L=(0,d.useState)(),S=L[0],k=L[1];return(0,d.useEffect)((function(){k(f())}),[]),(0,n.jsxs)("div",{children:[(0,n.jsxs)(l.default,{children:[(0,n.jsx)("title",{children:t}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"bg-gray-50 shadow-sm",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"py-10 lg:flex items-center",children:[(0,n.jsx)("a",{href:x,target:"_blank",className:"aspect-video bg-slate-800 flex items-center justify-center rounded-lg lg:w-96 lg:mr-10 mb-6 lg:mb-0 shadow-lg hover:shadow-xl transition-shadow",rel:"noreferrer",children:(0,n.jsx)(r.o1U,{className:"w-20 h-20 text-gray-300 opacity-40"})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h1",{className:"text-2xl mb-4 leading-6 font-semibold text-gray-800",children:t}),(0,n.jsx)("div",{className:"text-gray-500 mb-6",children:s}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-gray-700 font-bold mb-2",children:"\u5229\u7528\u30b7\u30fc\u30f3"}),(0,n.jsx)("p",{className:"text-gray-500",children:h.join(" / ")})]})]})]})})}),(0,n.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"mb-20",children:[(0,n.jsxs)("div",{className:"grid grid-cols-7 gap-2 sticky top-0 py-4 border-b bg-white",children:[(0,n.jsx)("div",{}),(0,n.jsx)(C,{TabIcon:o.Z,title:"Stripe"}),(0,n.jsx)(C,{TabIcon:a.Z,title:"Next.js"}),(0,n.jsx)(C,{TabIcon:c.Z,title:"Firebase"})]}),(0,n.jsx)("div",{className:"divide-dashed divide-y",children:m.payments.map((function(e,t){return(0,n.jsxs)("div",{className:"grid grid-cols-7 gap-2 py-6",children:[(0,n.jsxs)("h2",{children:[(0,n.jsxs)("span",{className:"text-gray-500 font-bold",children:["STEP ",t+1]}),(0,n.jsx)("p",{className:"font-bold text-gray-700 text-lg",children:e.title})]}),p.map((function(s){var r;return(0,n.jsx)("div",{className:"col-span-2 space-y-2",children:null===(r=e.tool[s])||void 0===r?void 0:r.map((function(e,r){return(0,n.jsxs)("button",{onClick:function(){v({step:t,id:r,type:b,tool:s,title:e.title,videoURL:e.videoURL}),N(!0)},className:"flex items-center text-gray-600 hover:text-gray-800 text-left space-x-2 w-full",children:[(0,n.jsx)(i.rE2,{className:(0,u.A)("w-6 h-6",(null===S||void 0===S?void 0:S.includes("".concat(b,"-").concat(s,"-").concat(t,"-").concat(r)))?"text-lime-500":"opacity-10")}),(0,n.jsx)("span",{className:"text-sm",children:e.title})]},e.title)}))},s)}))]},t)}))})]})})]}),(0,n.jsx)(R,{isOpen:w,onClose:function(){return N(!1)},onComplete:function(e){N(!1),k(e)},doc:y})]})}},9039:function(e,t,s){"use strict";s.r(t),t.default="1. [Firebase\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210](https://firebase.google.com/?hl=ja)\n2. [Cloud Firestore \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210](https://firebase.google.com/docs/firestore/quickstart#create)\n3. [Firebase Authentication \u306e\u6709\u52b9\u5316](https://firebase.google.com/docs/auth)\n4. [Blaze\u30d7\u30e9\u30f3\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9](https://firebase.google.com/pricing)\n5. [Run Payments with Stripe \u62e1\u5f35\u6a5f\u80fd\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](https://firebase.google.com/products/extensions/stripe-firestore-stripe-payments?hl=ja)\n6. [Cloud Firestore \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30eb\u30fc\u30eb\u3092\u8a2d\u5b9a](https://github.com/stripe/stripe-firebase-extensions/blob/master/firestore-stripe-payments/POSTINSTALL.md#set-your-cloud-firestore-security-rules)\n7. [Stripe webhook secret \u3092\u4f7f\u3063\u3066\u62e1\u5f35\u6a5f\u80fd\u3092\u518d\u69cb\u6210](https://github.com/stripe/stripe-firebase-extensions/blob/master/firestore-stripe-payments/POSTINSTALL.md#set-your-cloud-firestore-security-rules)"},1157:function(e,t,s){"use strict";s.r(t),t.default="1. [Stripe CLI \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb](https://stripe.com/docs/payments/checkout/fulfill-orders#install-stripe-cli)\n2. [\u30a4\u30d9\u30f3\u30c8\u30cf\u30f3\u30c9\u30e9\uff08HTTP\u30ea\u30af\u30a8\u30b9\u30c8\u95a2\u6570\u306e\u4f5c\u6210\uff09](https://firebase.google.com/docs/functions/http-events)\n3. [\u30d5\u30eb\u30d5\u30a3\u30eb\u30e1\u30f3\u30c8\u306e\u5b9f\u88c5](https://stripe.com/docs/payments/checkout/fulfill-orders#fulfill)"},2206:function(e,t,s){"use strict";s.r(t),t.default="[Firebase \u30b3\u30f3\u30bd\u30fc\u30eb](https://console.firebase.google.com/)\u3067 [\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u8ffd\u52a0] \u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u753b\u9762\u306e\u6307\u793a\u306b\u6cbf\u3063\u3066\u3001Firebase \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b"},7567:function(e,t,s){"use strict";s.r(t),t.default="[Cloud Firestore \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210](https://firebase.google.com/docs/firestore/quickstart#create)\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n| \u8a2d\u5b9a\u9805\u76ee                   | \u63a8\u5968\u8a2d\u5b9a                                             |\n| -------------------------- | ---------------------------------------------------- |\n| \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 \u30eb\u30fc\u30eb        | \u30ed\u30c3\u30af\u30e2\u30fc\u30c9(\u672c\u756a)                                   |\n| \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u30ed\u30b1\u30fc\u30b7\u30e7\u30f3 | asia-northeast1(\u6771\u4eac) \u3082\u3057\u304f\u306f asia-northeast2(\u5927\u962a) |"},7634:function(e,t,s){"use strict";s.r(t),t.default="[Google \u30ed\u30b0\u30a4\u30f3\u3092\u6709\u52b9](https://firebase.google.com/docs/auth/web/google-signin?hl=ja)\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4ed6\u306e\u30ed\u30b0\u30a4\u30f3\u65b9\u6cd5\u3092\u9078\u3076\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002"},7998:function(e,t,s){"use strict";s.r(t),t.default="[Run Payments with Stripe \u62e1\u5f35\u6a5f\u80fd](https://firebase.google.com/products/extensions/stripe-firestore-stripe-payments?hl=ja)\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u306e\u904e\u7a0b\u3067 Blaze \u30d7\u30e9\u30f3\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30af\u30ec\u30b8\u30c3\u30c8\u30ab\u30fc\u30c9\u767b\u9332\u304c\u5fc5\u8981\u3067\u3059\u304c[\u7121\u6599\u67a0](https://firebase.google.com/pricing?hl=ja)\u304c\u3042\u308b\u305f\u3081\u4e00\u5b9a\u306e\u30a2\u30af\u30bb\u30b9\u304c\u306a\u3044\u304b\u304e\u308a\u8ab2\u91d1\u3055\u308c\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\n| \u8a2d\u5b9a\u9805\u76ee                             | \u5024                      |\n| ------------------------------------ | ----------------------- |\n| \u30a2\u30af\u30bb\u30b9\u304c\u5236\u9650\u3055\u308c\u305f Stripe API \u30ad\u30fc | \u4f5c\u6210\u3057\u305f\u5236\u9650\u4ed8\u304dAPI\u30ad\u30fc |\n| Stripe Webhook \u30b7\u30fc\u30af\u30ec\u30c3\u30c8          | \u3053\u306e\u6642\u70b9\u3067\u306f\u7a7a          |\n\n"},4935:function(e,t,s){"use strict";s.r(t),t.default="[[\u30eb\u30fc\u30eb]\u30bf\u30d6](https://console.firebase.google.com/u/0/project/_/firestore/rules?hl=ja)\u3067\u4ee5\u4e0b\u306e\u30eb\u30fc\u30eb\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n```plane:\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30eb\u30fc\u30eb\nrules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /${param:CUSTOMERS_COLLECTION}/{uid} {\n      allow read: if request.auth.uid == uid;\n\n      match /checkout_sessions/{id} {\n        allow read, write: if request.auth.uid == uid;\n      }\n      match /subscriptions/{id} {\n        allow read: if request.auth.uid == uid;\n      }\n      match /payments/{id} {\n        allow read: if request.auth.uid == uid;\n      }\n    }\n\n    match /${param:PRODUCTS_COLLECTION}/{id} {\n      allow read: if true;\n\n      match /prices/{id} {\n        allow read: if true;\n      }\n\n      match /tax_rates/{id} {\n        allow read: if true;\n      }\n    }\n  }\n}\n```\n\n[\u53c2\u8003](https://github.com/stripe/stripe-firebase-extensions/blob/master/firestore-stripe-payments/POSTINSTALL.md#set-your-cloud-firestore-security-rules)"},8868:function(e,t,s){"use strict";s.r(t),t.default="Stripe \u3067 Webhook \u306e\u4f5c\u6210\u3092\u3057\u305f\u969b\u306b**\u7f72\u540d\u30b7\u30fc\u30af\u30ec\u30c3\u30c8**\u304c\u751f\u6210\u3055\u308c\u308b\u305f\u3081\u305d\u306e\u5185\u5bb9\u3092[\u62e1\u5f35\u6a5f\u80fd\u306e\u8a2d\u5b9a](https://console.firebase.google.com/u/0/project/_/extensions/instances/firestore-stripe-payments?hl=ja&tab=details)\u306e[Stripe webhook secret (Optional)]\u306b\u5165\u529b\u3057\u3001\u62e1\u5f35\u6a5f\u80fd\u3092\u518d\u69cb\u7bc9\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n![](/docs/images/2022-01-22-15-29-46.png)"},1537:function(e,t,s){"use strict";s.r(t),t.default="1. [\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210](https://nextjs.org/docs/getting-started#setup)\n2. [Firebase\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u521d\u671f\u5316](https://firebase.google.com/docs/web/setup?hl=ja)"},1148:function(e,t,s){"use strict";s.r(t),t.default="1. [\u5546\u54c1\u4e00\u89a7\u306e\u8868\u793a](https://github.com/stripe/stripe-firebase-extensions/blob/master/firestore-stripe-payments/POSTINSTALL.md#list-available-products-and-prices)"},6416:function(e,t,s){"use strict";s.r(t),t.default="1. [\u5546\u54c1\u3092\u8cfc\u5165](https://github.com/stripe/stripe-firebase-extensions/blob/master/firestore-stripe-payments/POSTINSTALL.md#one-time-payments-on-the-web)\n   - [\u30af\u30fc\u30dd\u30f3\u306e\u5165\u529b\u3092\u8a31\u53ef](https://github.com/stripe/stripe-firebase-extensions/blob/master/firestore-stripe-payments/POSTINSTALL.md#applying-discount-coupon-promotion-codes)\n   - [\u30af\u30fc\u30dd\u30f3\u306e\u4f7f\u7528](https://github.com/stripe/stripe-firebase-extensions/blob/master/firestore-stripe-payments/POSTINSTALL.md#applying-promotion-codes-programmatically)"},2938:function(e,t,s){"use strict";s.r(t),t.default="1. [\u30ab\u30b9\u30bf\u30de\u30fc\u30dd\u30fc\u30bf\u30eb\u3092\u958b\u304f](https://github.com/stripe/stripe-firebase-extensions/blob/master/firestore-stripe-payments/POSTINSTALL.md#redirect-to-the-customer-portal)"},542:function(e,t,s){"use strict";s.r(t),t.default="[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://nextjs.org/docs/getting-started#setup)\u306b\u6cbf\u3063\u3066\u74b0\u5883\u69cb\u7bc9\u3092\u884c\u3044\u307e\u3059\u3002\n\n```bash:\u30bf\u30fc\u30df\u30ca\u30eb\nnpx create-next-app@latest --typescript\n```"},95:function(e,t,s){"use strict";s.r(t),t.default="1. [\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210](https://stripe.com/jp)\n2. [\u5236\u9650\u4ed8\u304dAPI\u30ad\u30fc\u3092\u4f5c\u6210](https://github.com/stripe/stripe-firebase-extensions/blob/master/firestore-stripe-payments/PREINSTALL.md#additional-setup)\n3. [Webhook\u3092\u4f5c\u6210](https://github.com/stripe/stripe-firebase-extensions/blob/master/firestore-stripe-payments/POSTINSTALL.md#configure-stripe-webhooks)"},4481:function(e,t,s){"use strict";s.r(t),t.default="1. [\u5546\u54c1\u3068\u4fa1\u683c\u3092\u4f5c\u6210](https://stripe.com/docs/billing/manage-prices)\n2. [\u7a0e\u7387\u3092\u4f5c\u6210](https://stripe.com/docs/billing/taxes/tax-rates#%E7%A8%8E%E7%8E%87%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B)\n3. [Stripe Tax\u306b\u3088\u308b\u7a0e\u7387\u8a2d\u5b9a\u306e\u81ea\u52d5\u5316\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09](https://stripe.com/docs/billing/taxes/tax-rates#%E7%A8%8E%E7%8E%87%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B)"},9099:function(e,t,s){"use strict";s.r(t),t.default="1. [\u30ab\u30b9\u30bf\u30de\u30fc\u30dd\u30fc\u30bf\u30eb\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba](https://stripe.com/docs/billing/subscriptions/integrating-customer-portal?platform=billing#configure)"},1939:function(e,t,s){"use strict";s.r(t),t.default="[Stripe](https://stripe.com/jp)\u3067\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3057\u3087\u3046\u3002"},1195:function(e,t,s){"use strict";s.r(t),t.default="[\u5236\u9650\u4ed8\u304dAPI\u30ad\u30fc](https://stripe.com/docs/keys#limit-access)\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u8a2d\u5b9a\u9805\u76ee\u306f[Firebase Stripe\u62e1\u5f35\u6a5f\u80fd\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://github.com/stripe/stripe-firebase-extensions/blob/master/firestore-stripe-payments/PREINSTALL.md#additional-setup)\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\u3002\n\n| \u6a29\u9650     | \u5bfe\u8c61                                          |\n| -------- | --------------------------------------------- |\n| \u66f8\u304d\u8fbc\u307f | Customers, Checkout Sessions, Customer portal |\n| \u8aad\u307f\u8fbc\u307f | Subscriptions, Plans                          |"},4659:function(e,t,s){"use strict";s.r(t),t.default="[\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8](https://github.com/stripe/stripe-firebase-extensions/blob/master/firestore-stripe-payments/POSTINSTALL.md#configure-stripe-webhooks)\u306b\u5f93\u3063\u3066Webhook\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\n\n\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306eURL\u306fFirebase Stripe\u62e1\u5f35\u6a5f\u80fd\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306b\u4f5c\u6210\u3055\u308c\u308bCloud Functions\u306eHTTP\u95a2\u6570\u306eURL\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u53d7\u3051\u53d6\u308b\u30a4\u30d9\u30f3\u30c8\u306f\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n- product.created\n- product.updated\n- product.deleted\n- price.created\n- price.updated\n- price.deleted\n- checkout.session.completed\n- customer.subscription.created\n- customer.subscription.updated\n- customer.subscription.deleted\n- payment_intent.processing\n- payment_intent.succeeded\n- payment_intent.canceled\n- payment_intent.payment_failed\n- tax_rate.created (optional)\n- tax_rate.updated (optional)\n\n\u8acb\u6c42\u66f8\u60c5\u5831\u3092Firestore\u306b\u540c\u671f\u3057\u305f\u3044\u5834\u5408\u4ee5\u4e0b\u3082\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n- invoice.paid\n- invoice.payment_succeeded\n- invoice.payment_failed\n- invoice.upcoming\n- invoice.marked_uncollectible\n- invoice.payment_action_required\n\nWebhook\u4f5c\u6210\u5f8c\u306b\u751f\u6210\u3055\u308c\u308b\u7f72\u540d\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u306f\u62e1\u5f35\u6a5f\u80fd\u3067\u4f7f\u7528\u3057\u307e\u3059\u3002\n\n![](/docs/images/2022-01-22-14-42-02.png)"}}]);